{"version":3,"sources":["./src/app/otp/otp-routing.module.ts","./src/app/otp/otp.module.ts","./src/app/otp/otp.page.ts","./src/app/otp/otp.page.scss","./src/app/otp/otp.page.html"],"names":[],"mappings":"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","file":"src_app_otp_otp_module_ts-es2015.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { OtpPage } from './otp.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: OtpPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class OtpPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { ReactiveFormsModule } from '@angular/forms';\nimport { IonicModule } from '@ionic/angular';\n\nimport { OtpPageRoutingModule } from './otp-routing.module';\n\nimport { OtpPage } from './otp.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    IonicModule,\n    OtpPageRoutingModule\n  ],\n  declarations: [OtpPage]\n})\nexport class OtpPageModule {}\n","import { Component, OnInit } from \"@angular/core\";\nimport { FormControl, FormGroup, Validators } from \"@angular/forms\";\nimport { ActivatedRoute, ParamMap, Router } from \"@angular/router\";\nimport { AlertController, LoadingController } from \"@ionic/angular\";\nimport { ApiService } from \"../services/api.service\";\nimport { FormsService } from \"../services/forms.service\";\nimport { LanguageService } from \"../services/language.service\";\n\n@Component({\n  selector: \"app-otp\",\n  templateUrl: \"./otp.page.html\",\n  styleUrls: [\"./otp.page.scss\"],\n})\nexport class OtpPage implements OnInit {\n  submitted: boolean = false;\n  showError: boolean = false;\n  status: string;\n  otpValue: string;\n  moNumber: string;\n  refferal_code: any;\n  form = new FormGroup({\n    otp: new FormControl(\"\", [\n      Validators.required,\n      Validators.pattern(\"^[0-9]*$\"),\n    ]),\n  });\n\n  constructor(private router: Router,\n     private apiService: ApiService,\n     private languageService: LanguageService,\n     private formService: FormsService,\n     public alertController: AlertController,\n     private route: ActivatedRoute,\n     public loadingController: LoadingController) {}\n\n\n     async getLoader(){\n        const loading = await this.loadingController.create({\n          message: 'Please wait for the otp...',\n          duration: 3000\n        });\n  \n        await loading.present();\n     }\n\n  ngOnInit() {\n    this.languageService._translateLanguage();\n    this.moNumber = localStorage.getItem('moNumber');\n    this.refferal_code = localStorage.getItem('refferalCode');\n    console.log(this.moNumber)\n\n    setTimeout(() => {\n      this.getLoader();\n      this.otpValue = localStorage.getItem('otp');\n      this.form.value.otp = this.otpValue;\n    }, 50)\n  }\n\n  ionViewWillEnter() {\n    this.route.paramMap.subscribe((paramMap: ParamMap) => {\n      if (paramMap.has(\"status\")) {\n        this.status = paramMap.get(\"status\");\n      }\n    });\n\n   \n\n  }\n\n  \n\n  f(controls) {\n    return this.form.get(controls);\n  }\n\n  otpResenet() {\n    this.apiService.getOtpFromMoNumber(localStorage.getItem(\"moNumber\"))\n    .subscribe((res: any) => {\n      console.log(res);\n    },(err: any) => {\n      console.log(err);\n    });\n    this.form.reset();\n  }\n\n  async presentAlert() {\n    const alert = await this.alertController.create({\n      cssClass: 'my-custom-class',\n      header: 'Alert',\n      message: 'ओटीपी मेल नहीं खाता, कृपया पुनः प्रयास करें!',\n      buttons: ['OK']\n    });\n\n    await alert.present();\n\n    const { role } = await alert.onDidDismiss();\n    console.log('onDidDismiss resolved with role', role);\n  }\n\n  async presentAlert2() {\n    const alert = await this.alertController.create({\n      cssClass: 'my-custom-class',\n      header: 'Alert',\n      message: 'नंबर पहले से रजिस्टर है',\n      buttons: ['OK']\n    });\n\n    await alert.present();\n\n    const { role } = await alert.onDidDismiss();\n    console.log('onDidDismiss resolved with role', role);\n  }\n  \n  onSubmit() {\n    this.submitted = true;\n    if (this.form.invalid) {\n      return;\n    }\n    console.log(this.form.get(\"otp\").value)\n    console.log(localStorage.getItem('refferalCode'));\n    this.apiService.verifyOtp({\n      \"mobileNo\": this.moNumber,\n      \"otp\": this.form.get('otp').value,\n      referral_code: localStorage.getItem('refferalCode')\n  }).subscribe((res: any) => {\n      console.log(res);\n      localStorage.setItem('refferalCode', res.data.referral_code)\n      localStorage.setItem('walletAmount', res.data.wallet_amount)\n      localStorage.setItem('userId', res.data._id);\n      if(this.status === \"201\"){\n        this.router.navigate([\"/dashboard\"]);\n      }\n      else{\n        this.router.navigate([\"/form-one\"]);\n      }\n    },(err) => {\n      console.log(err)\n      if(err.status === 404){\n        this.presentAlert();\n      }\n    });\n  }\n}\n// 7897987987","export default \".tool {\\n  --background: #eb445a;\\n}\\n\\nion-list {\\n  --ion-item-background: transparent;\\n}\\n\\n.codeResend {\\n  --inner-padding-end:0px;\\n  --padding-start:0px;\\n}\\n\\n.codeResend label {\\n  font-size: 14px;\\n  color: #ff0000;\\n}\\n\\n.codeResend button {\\n  background: transparent;\\n  color: #3B63FF;\\n  font-weight: 600;\\n}\\n\\n.login-container ion-button {\\n  margin-top: 0px;\\n}\\n\\n.validation {\\n  color: red;\\n  font-size: 14px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm90cC5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxxQkFBQTtBQUNKOztBQUVBO0VBQ0ksa0NBQUE7QUFDSjs7QUFFQTtFQUNJLHVCQUFBO0VBQ0EsbUJBQUE7QUFDSjs7QUFBSTtFQUFPLGVBQUE7RUFBZ0IsY0FBQTtBQUkzQjs7QUFISTtFQUNJLHVCQUFBO0VBQ0EsY0FBQTtFQUNBLGdCQUFBO0FBS1I7O0FBQUk7RUFBWSxlQUFBO0FBSWhCOztBQURBO0VBQ0ksVUFBQTtFQUNBLGVBQUE7QUFJSiIsImZpbGUiOiJvdHAucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLnRvb2x7XG4gICAgLS1iYWNrZ3JvdW5kOiAjZWI0NDVhO1xufVxuXG5pb24tbGlzdCB7XG4gICAgLS1pb24taXRlbS1iYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcbn1cblxuLmNvZGVSZXNlbmQge1xuICAgIC0taW5uZXItcGFkZGluZy1lbmQ6MHB4O1xuICAgIC0tcGFkZGluZy1zdGFydDowcHg7XG4gICAgbGFiZWwge2ZvbnQtc2l6ZTogMTRweDtjb2xvcjogI2ZmMDAwMDt9XG4gICAgYnV0dG9uIHtcbiAgICAgICAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XG4gICAgICAgIGNvbG9yOiAjM0I2M0ZGO1xuICAgICAgICBmb250LXdlaWdodDogNjAwO1xuICAgIH1cbn1cblxuLmxvZ2luLWNvbnRhaW5lciB7XG4gICAgaW9uLWJ1dHRvbiB7bWFyZ2luLXRvcDogMHB4O31cbn1cblxuLnZhbGlkYXRpb257XG4gICAgY29sb3I6IHJlZDtcbiAgICBmb250LXNpemU6IDE0cHg7XG59Il19 */\";","export default \"<ion-content>\\n  <div class=\\\"login-container\\\">\\n    <div class=\\\"logo\\\"><img src=\\\"./assets/images/logo.png\\\"/></div>\\n    <div class=\\\"login-con\\\">\\n      <h1>{{languageService.otp_for_lang}}</h1>\\n\\n  <form [formGroup]=\\\"form\\\"  (ngSubmit)=\\\"onSubmit()\\\">\\n    <ion-grid>\\n      <ion-row>\\n        <ion-col size-sm=\\\"6\\\" offset-sm=\\\"3\\\">\\n          <ion-list>\\n            <div class=\\\"mobileno\\\">\\n              <ion-input name=\\\"otp\\\"  [value]=\\\"otpValue\\\" required formControlName=\\\"otp\\\" placeholder=\\\"OTP\\\"></ion-input>\\n            </div>\\n\\n            <ion-item lines=\\\"none\\\" class=\\\"codeResend\\\">\\n              <button ion-button (click)=\\\"otpResenet()\\\" slot=\\\"end\\\">{{languageService.resend_otp_for_lang}}</button>\\n            </ion-item>\\n\\n            <div  *ngIf=\\\"submitted && f('otp').hasError('required')\\\"\\n            lines=\\\"none\\\">\\n            <ion-label *ngIf=\\\"f('otp').hasError('required')\\\" class=\\\"validation\\\">\\n              {{languageService.cant_empty_for_lang}}\\n            </ion-label>\\n          </div>\\n\\n          <div class=\\\"error\\\" *ngIf=\\\"f('otp').hasError('pattern')\\\" \\n          lines=\\\"none\\\">\\n          <ion-label   class=\\\"validation\\\">\\n            {{languageService.mo_must_number}}\\n          </ion-label>\\n        </div>\\n\\n          <div *ngIf=\\\"submitted && showError\\\"\\n          lines=\\\"none\\\">\\n          <ion-label class=\\\"validation\\\">\\n            password do not match!\\n          </ion-label>\\n        </div>\\n\\n          </ion-list>\\n        </ion-col>\\n      </ion-row>\\n      <ion-row>\\n        <ion-col size-sm=\\\"6\\\" offset-sm=\\\"3\\\">\\n         <ion-button class=\\\"ion-margin-vertical\\\" type=\\\"submit\\\" expand=\\\"block\\\">{{languageService.otp_verify_for_lang}}</ion-button>\\n        </ion-col>\\n      </ion-row>\\n    </ion-grid>\\n  </form>\\n</div>\\n</div>\\n</ion-content>\\n\";"],"sourceRoot":"webpack:///"}