{"version":3,"sources":["webpack:///src/app/otp/otp-routing.module.ts","webpack:///src/app/otp/otp.module.ts","webpack:///src/app/otp/otp.page.ts","webpack:///src/app/otp/otp.page.scss","webpack:///src/app/otp/otp.page.html"],"names":["routes","path","component","OtpPage","OtpPageRoutingModule","NgModule","imports","RouterModule","exports","OtpPageModule","CommonModule","FormsModule","ReactiveFormsModule","IonicModule","declarations","router","apiService","languageService","formService","alertController","route","loadingController","submitted","showError","form","FormGroup","otp","FormControl","Validators","create","message","duration","loading","present","_translateLanguage","moNumber","localStorage","getItem","refferal_code","console","log","setTimeout","getLoader","otpValue","value","paramMap","subscribe","has","status","get","controls","getOtpFromMoNumber","res","err","reset","cssClass","header","buttons","alert","onDidDismiss","role","invalid","verifyOtp","referral_code","setItem","data","wallet_amount","_id","navigate","presentAlert","Router","ApiService","LanguageService","FormsService","AlertController","ActivatedRoute","LoadingController","Component","selector","template"],"mappings":"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","file":"src_app_otp_otp_module_ts-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { OtpPage } from './otp.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: OtpPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class OtpPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { ReactiveFormsModule } from '@angular/forms';\nimport { IonicModule } from '@ionic/angular';\n\nimport { OtpPageRoutingModule } from './otp-routing.module';\n\nimport { OtpPage } from './otp.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    IonicModule,\n    OtpPageRoutingModule\n  ],\n  declarations: [OtpPage]\n})\nexport class OtpPageModule {}\n","import { Component, OnInit } from \"@angular/core\";\nimport { FormControl, FormGroup, Validators } from \"@angular/forms\";\nimport { ActivatedRoute, ParamMap, Router } from \"@angular/router\";\nimport { AlertController, LoadingController } from \"@ionic/angular\";\nimport { ApiService } from \"../services/api.service\";\nimport { FormsService } from \"../services/forms.service\";\nimport { LanguageService } from \"../services/language.service\";\n\n@Component({\n  selector: \"app-otp\",\n  templateUrl: \"./otp.page.html\",\n  styleUrls: [\"./otp.page.scss\"],\n})\nexport class OtpPage implements OnInit {\n  submitted: boolean = false;\n  showError: boolean = false;\n  status: string;\n  otpValue: string;\n  moNumber: string;\n  refferal_code: any;\n  form = new FormGroup({\n    otp: new FormControl(\"\", [\n      Validators.required,\n      Validators.pattern(\"^[0-9]*$\"),\n    ]),\n  });\n\n  constructor(private router: Router,\n     private apiService: ApiService,\n     private languageService: LanguageService,\n     private formService: FormsService,\n     public alertController: AlertController,\n     private route: ActivatedRoute,\n     public loadingController: LoadingController) {}\n\n\n     async getLoader(){\n        const loading = await this.loadingController.create({\n          message: 'Please wait for the otp...',\n          duration: 3000\n        });\n  \n        await loading.present();\n     }\n\n  ngOnInit() {\n    this.languageService._translateLanguage();\n    this.moNumber = localStorage.getItem('moNumber');\n    this.refferal_code = localStorage.getItem('refferalCode');\n    console.log(this.moNumber)\n\n    setTimeout(() => {\n      this.getLoader();\n      this.otpValue = localStorage.getItem('otp');\n      this.form.value.otp = this.otpValue;\n    }, 50)\n  }\n\n  ionViewWillEnter() {\n    this.route.paramMap.subscribe((paramMap: ParamMap) => {\n      if (paramMap.has(\"status\")) {\n        this.status = paramMap.get(\"status\");\n      }\n    });\n\n   \n\n  }\n\n  \n\n  f(controls) {\n    return this.form.get(controls);\n  }\n\n  otpResenet() {\n    this.apiService.getOtpFromMoNumber(localStorage.getItem(\"moNumber\"))\n    .subscribe((res: any) => {\n      console.log(res);\n    },(err: any) => {\n      console.log(err);\n    });\n    this.form.reset();\n  }\n\n  async presentAlert() {\n    const alert = await this.alertController.create({\n      cssClass: 'my-custom-class',\n      header: 'Alert',\n      message: 'ओटीपी मेल नहीं खाता, कृपया पुनः प्रयास करें!',\n      buttons: ['OK']\n    });\n\n    await alert.present();\n\n    const { role } = await alert.onDidDismiss();\n    console.log('onDidDismiss resolved with role', role);\n  }\n\n  async presentAlert2() {\n    const alert = await this.alertController.create({\n      cssClass: 'my-custom-class',\n      header: 'Alert',\n      message: 'नंबर पहले से रजिस्टर है',\n      buttons: ['OK']\n    });\n\n    await alert.present();\n\n    const { role } = await alert.onDidDismiss();\n    console.log('onDidDismiss resolved with role', role);\n  }\n  \n  onSubmit() {\n    this.submitted = true;\n    if (this.form.invalid) {\n      return;\n    }\n    console.log(this.form.get(\"otp\").value)\n    console.log(localStorage.getItem('refferalCode'));\n    this.apiService.verifyOtp({\n      \"mobileNo\": this.moNumber,\n      \"otp\": this.form.get('otp').value,\n      referral_code: localStorage.getItem('refferalCode')\n  }).subscribe((res: any) => {\n      console.log(res);\n      localStorage.setItem('refferalCode', res.data.referral_code)\n      localStorage.setItem('walletAmount', res.data.wallet_amount)\n      localStorage.setItem('userId', res.data._id);\n      if(this.status === \"201\"){\n        this.router.navigate([\"/dashboard\"]);\n      }\n      else{\n        this.router.navigate([\"/form-one\"]);\n      }\n    },(err) => {\n      console.log(err)\n      if(err.status === 404){\n        this.presentAlert();\n      }\n    });\n  }\n}\n// 7897987987","export default \".tool {\\n  --background: #eb445a;\\n}\\n\\nion-list {\\n  --ion-item-background: transparent;\\n}\\n\\n.codeResend {\\n  --inner-padding-end:0px;\\n  --padding-start:0px;\\n}\\n\\n.codeResend label {\\n  font-size: 14px;\\n  color: #ff0000;\\n}\\n\\n.codeResend button {\\n  background: transparent;\\n  color: #3B63FF;\\n  font-weight: 600;\\n}\\n\\n.login-container ion-button {\\n  margin-top: 0px;\\n}\\n\\n.validation {\\n  color: red;\\n  font-size: 14px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm90cC5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxxQkFBQTtBQUNKOztBQUVBO0VBQ0ksa0NBQUE7QUFDSjs7QUFFQTtFQUNJLHVCQUFBO0VBQ0EsbUJBQUE7QUFDSjs7QUFBSTtFQUFPLGVBQUE7RUFBZ0IsY0FBQTtBQUkzQjs7QUFISTtFQUNJLHVCQUFBO0VBQ0EsY0FBQTtFQUNBLGdCQUFBO0FBS1I7O0FBQUk7RUFBWSxlQUFBO0FBSWhCOztBQURBO0VBQ0ksVUFBQTtFQUNBLGVBQUE7QUFJSiIsImZpbGUiOiJvdHAucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLnRvb2x7XG4gICAgLS1iYWNrZ3JvdW5kOiAjZWI0NDVhO1xufVxuXG5pb24tbGlzdCB7XG4gICAgLS1pb24taXRlbS1iYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcbn1cblxuLmNvZGVSZXNlbmQge1xuICAgIC0taW5uZXItcGFkZGluZy1lbmQ6MHB4O1xuICAgIC0tcGFkZGluZy1zdGFydDowcHg7XG4gICAgbGFiZWwge2ZvbnQtc2l6ZTogMTRweDtjb2xvcjogI2ZmMDAwMDt9XG4gICAgYnV0dG9uIHtcbiAgICAgICAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XG4gICAgICAgIGNvbG9yOiAjM0I2M0ZGO1xuICAgICAgICBmb250LXdlaWdodDogNjAwO1xuICAgIH1cbn1cblxuLmxvZ2luLWNvbnRhaW5lciB7XG4gICAgaW9uLWJ1dHRvbiB7bWFyZ2luLXRvcDogMHB4O31cbn1cblxuLnZhbGlkYXRpb257XG4gICAgY29sb3I6IHJlZDtcbiAgICBmb250LXNpemU6IDE0cHg7XG59Il19 */\";","export default \"<ion-content>\\n  <div class=\\\"login-container\\\">\\n    <div class=\\\"logo\\\"><img src=\\\"./assets/images/logo.png\\\"/></div>\\n    <div class=\\\"login-con\\\">\\n      <h1>{{languageService.otp_for_lang}}</h1>\\n\\n  <form [formGroup]=\\\"form\\\"  (ngSubmit)=\\\"onSubmit()\\\">\\n    <ion-grid>\\n      <ion-row>\\n        <ion-col size-sm=\\\"6\\\" offset-sm=\\\"3\\\">\\n          <ion-list>\\n            <div class=\\\"mobileno\\\">\\n              <ion-input name=\\\"otp\\\"  [value]=\\\"otpValue\\\" required formControlName=\\\"otp\\\" placeholder=\\\"OTP\\\"></ion-input>\\n            </div>\\n\\n            <ion-item lines=\\\"none\\\" class=\\\"codeResend\\\">\\n              <button ion-button (click)=\\\"otpResenet()\\\" slot=\\\"end\\\">{{languageService.resend_otp_for_lang}}</button>\\n            </ion-item>\\n\\n            <div  *ngIf=\\\"submitted && f('otp').hasError('required')\\\"\\n            lines=\\\"none\\\">\\n            <ion-label *ngIf=\\\"f('otp').hasError('required')\\\" class=\\\"validation\\\">\\n              {{languageService.cant_empty_for_lang}}\\n            </ion-label>\\n          </div>\\n\\n          <div class=\\\"error\\\" *ngIf=\\\"f('otp').hasError('pattern')\\\" \\n          lines=\\\"none\\\">\\n          <ion-label   class=\\\"validation\\\">\\n            {{languageService.mo_must_number}}\\n          </ion-label>\\n        </div>\\n\\n          <div *ngIf=\\\"submitted && showError\\\"\\n          lines=\\\"none\\\">\\n          <ion-label class=\\\"validation\\\">\\n            password do not match!\\n          </ion-label>\\n        </div>\\n\\n          </ion-list>\\n        </ion-col>\\n      </ion-row>\\n      <ion-row>\\n        <ion-col size-sm=\\\"6\\\" offset-sm=\\\"3\\\">\\n         <ion-button class=\\\"ion-margin-vertical\\\" type=\\\"submit\\\" expand=\\\"block\\\">{{languageService.otp_verify_for_lang}}</ion-button>\\n        </ion-col>\\n      </ion-row>\\n    </ion-grid>\\n  </form>\\n</div>\\n</div>\\n</ion-content>\\n\";"]}