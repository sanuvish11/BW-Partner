{"version":3,"sources":["./src/app/notification/notification-routing.module.ts","./src/app/notification/notification.module.ts","./src/app/notification/notification.page.ts","./src/app/notification/notification.page.scss","./src/app/notification/notification.page.html"],"names":[],"mappings":"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","file":"src_app_notification_notification_module_ts-es2015.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { NotificationPage } from './notification.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: NotificationPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class NotificationPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { NotificationPageRoutingModule } from './notification-routing.module';\n\nimport { NotificationPage } from './notification.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    NotificationPageRoutingModule\n  ],\n  declarations: [NotificationPage]\n})\nexport class NotificationPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { ApiService } from '../services/api.service';\nimport { Notification } from '../Models/Notification';\nimport { AlertController } from '@ionic/angular';\n@Component({\n  selector: 'app-notification',\n  templateUrl: './notification.page.html',\n  styleUrls: ['./notification.page.scss'],\n})\nexport class NotificationPage implements OnInit {\n  notiData: any[] = [];\n  status: string = \"Active\";\n  // status = 1/ Active\n  // status = 2/ Approved\n  // status = 3/ reject\n  bidAmount: number;\n  notiObj: Notification = new Notification();\n  constructor(private apiService: ApiService, \n    public alertController: AlertController) { }\n\n  ngOnInit() {\n    this.getNotifications();\n  }\n\n  getNotifications(){\n    this.apiService.getAllNotifications().subscribe((res: any) => {\n      console.log(res);\n      this.notiData = res;\n    },(err => {console.log(err)}));\n  }\n\n  async presentAlert(id, userAmount) {\n    const alert = await this.alertController.create({\n      cssClass: 'my-custom-class',\n      header: 'Increase Bid amount!',\n      inputs: [\n        {\n          name: 'Old Value',\n          type: 'text',\n          value: userAmount,\n          placeholder: 'Placeholder 1'\n        },\n        {\n          name: 'new_bid_amount',\n          type: 'text',\n          placeholder: 'Placeholder 2'\n        },\n      ],\n      buttons: [\n        {\n          text: 'Cancel',\n          role: 'cancel',\n          cssClass: 'secondary',\n          handler: () => {\n            console.log('Confirm Cancel');\n          }\n        }, {\n          text: 'Ok',\n          handler: (data) => {\n            console.log('Confirm Ok');\n            console.log(data);\n            // this.bidAmount = parseInt(userAmount) + parseInt(data.new_bid_amount);\n            this.bidAmount = data.new_bid_amount;\n            console.log(data.new_bid_amount);\n            console.log(this.bidAmount);\n            console.log(userAmount);\n\n            this.apiService.saveUserNotification({\n                  \"NAME\": \"hello\",\n                   \"NEED\": \"plu\",\n                   \"COST\": userAmount,\n                   \"TOTAL_AMOUNT\": this.bidAmount,\n                   \"MOBILE_NUMBER\": 12345678,\n                   \"ADDRESS\": \"TT\",\n                   \"STATUS\": 1\n           });\n            this.notiData.forEach((res: Notification) => {\n              console.log(res);\n              res.NAME = \"Ahmad\"\n              res.TOTAL_AMOUNT = this.bidAmount.toString();\n              console.log(res);\n              this.apiService.updateNotificationData(id, res)\n              .subscribe((res: Notification) => {\n                console.log(res)\n                if(res){\n                  this.getNotifications();\n                }\n              } ,(err => { console.log(err) }));\n            })\n          }\n        }\n      ]\n    });\n\n    await alert.present();\n  }\n\n  clickAccpet(id){\n    console.log(id);\n    this.notiData.forEach((data: any) => {\n      if(data._id === id){\n        data.STATUS = 2\n        this.notiObj = data;\n        this.status = \"Approved\";\n        console.log(this.notiObj)\n        this.apiService.updateNotificationData(id, this.notiObj)\n              .subscribe((res: Notification) => {} ,(err => { console.log(err) }));\n      }\n    }); \n  }\n\n  increaseBid(id: string){\n    console.log(id);\n  }\n\n  clickReject(id){\n    console.log(id);\n    this.notiData.forEach((data: any) => {\n      if(data._id === id){\n        data.STATUS = 3\n        this.notiObj = data;\n        this.status = \"Rejected\";\n        console.log(this.notiObj)\n        this.apiService.updateNotificationData(id, this.notiObj)\n              .subscribe((res: Notification) => {} ,(err => { console.log(err) }));\n      }\n    })\n    // this.apiService.updateNotificationData(id, {STATUS: 3});\n  }\n\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJub3RpZmljYXRpb24ucGFnZS5zY3NzIn0= */\";","export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button text=\\\"\\\"></ion-back-button>\\n    </ion-buttons>\\n    <ion-title>notification</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <!-- <ion-grid>\\n    <ion-row> \\n      <ion-col size=\\\"3\\\">Name</ion-col>\\n      <ion-col>Need</ion-col>\\n      <ion-col>Cost</ion-col>\\n      <ion-col>Address</ion-col>\\n      <ion-col>Status</ion-col>\\n      <ion-col>action</ion-col>\\n    </ion-row>\\n    <ion-row > \\n      <ion-col>S.No</ion-col>\\n      <ion-col>Name</ion-col>\\n      <ion-col>Gender</ion-col>\\n      <ion-col>Country</ion-col>\\n      <ion-col>Gender</ion-col>\\n      <ion-col>Country</ion-col>\\n    </ion-row>\\n  </ion-grid> -->\\n\\n  <ion-grid>\\n    <ion-row *ngFor=\\\"let n of notiData\\\"> \\n      <ion-col>\\n        <ion-label>\\n          Name\\n        </ion-label>\\n        <div  >\\n        {{n.NAME}}\\n        </div>\\n      </ion-col>\\n      <ion-col>\\n        <ion-label>\\n          Need\\n        </ion-label>\\n        <div>\\n          {{n.NEED}}\\n        </div>\\n      </ion-col>\\n      <ion-col>\\n        <ion-label>\\n          Cost\\n        </ion-label>\\n         <div>\\n          {{n.COST}}\\n        </div>\\n      </ion-col>\\n      <!-- <ion-col>\\n        <ion-label>\\n          Address\\n        </ion-label>\\n         <div >\\n            isjoasd\\n        </div>\\n      </ion-col> -->\\n     \\n      <ion-col>\\n        <ion-label>\\n          Status\\n        </ion-label>\\n         <div *ngIf=\\\"n.STATUS === 1\\\">\\n            Active\\n        </div>\\n        <div *ngIf=\\\"n.STATUS === 2\\\">\\n          Approved\\n      </div>\\n      <div *ngIf=\\\"n.STATUS === 3\\\">\\n        Rejected\\n    </div>\\n    \\n      </ion-col>\\n      <ion-col>\\n        <ion-label>\\n          Action\\n        </ion-label>\\n         <div *ngIf=\\\"n.STATUS === 1\\\">\\n          <ion-button (click)=\\\"clickAccpet(n._id)\\\">Accept</ion-button>\\n          <ion-button (click)=\\\"clickReject(n._id)\\\">Reject</ion-button>\\n          <ion-button (click)=\\\"presentAlert(n._id, n.COST)\\\">Increase Bid Amount</ion-button>\\n        </div>\\n        \\n        <div *ngIf=\\\"n.STATUS === 3\\\">\\n          <ion-label>Rejected</ion-label>\\n        </div>\\n      </ion-col>\\n      <div>\\n        <ion-row>Your Bid Amount: {{n.TOTAL_AMOUNT}}</ion-row>\\n      </div>\\n    </ion-row>\\n   \\n  </ion-grid>\\n\\n\\n    \\n    \\n</ion-content>\\n\";"],"sourceRoot":"webpack:///"}